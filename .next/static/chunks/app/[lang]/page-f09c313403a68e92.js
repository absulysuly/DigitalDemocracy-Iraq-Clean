(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{80393:function(e,t,a){Promise.resolve().then(a.bind(a,49149))},49149:function(e,t,a){"use strict";a.d(t,{default:function(){return v}});var s=a(57437),r=a(2265),n=a(27072),i=a(99376);function o(){return(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)("div",{className:"text-center p-8",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"Social Feed"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Social features coming soon"})]})})}var l=a(40521),c=a(82023),d=a(44743),u=a(46175),p=a(21548);let m=a(40257).env.NEXT_PUBLIC_GEMINI_API_KEY,h=m?new p.$D(m):null,g=async()=>{if(!h)return console.warn("NEXT_PUBLIC_API_KEY for Gemini is not set. AI features are disabled."),"AI is currently unavailable. Please try again later.";try{let e=h.getGenerativeModel({model:"gemini-pro"}),t=await e.generateContent("Write a short, witty, and slightly humorous social media post about daily life, politics, or tea in Iraq. Keep it under 280 characters. The tone should be optimistic and engaging for a young Iraqi audience. Do not use hashtags.");return(await t.response).text()}catch(e){return console.error("Error generating social post:",e),"Couldn't generate a post right now. Try again in a moment!"}},x={name:"You",avatar:"https://i.pravatar.cc/48?u=current_user",verified:!1},f=[{id:"post-1",author:{name:"Iraqi News",avatar:"https://i.pravatar.cc/48?u=news",verified:!0},content:"Election day is approaching! Make sure you are registered to vote and have a plan to get to the polls. Your voice matters.",likes:1200,comments:153,shares:45,timestamp:new Date(Date.now()-18e5),image:"https://picsum.photos/seed/election-day/800/400"},{id:"post-2",author:{name:"Community Organizer",avatar:"https://i.pravatar.cc/48?u=organizer",verified:!1},content:"We are organizing a local town hall next week to discuss key issues with candidates. All are welcome to attend and participate in the discussion.",likes:450,comments:62,shares:12,timestamp:new Date(Date.now()-108e5)}];function b(e){let{onCreatePost:t,dictionary:a}=e,[n,i]=(0,r.useState)(""),[o,p]=(0,r.useState)(!1),m=async()=>{p(!0);try{let e=await g();i(e)}catch(e){u.Am.error("Failed to generate post.")}finally{p(!1)}};return(0,s.jsx)(l.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 p-4 rounded-2xl shadow-md mb-6",children:(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n.trim()&&(t(n),i(""),u.Am.success("Your post has been published!"))},children:[(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("img",{src:x.avatar,alt:"Your avatar",className:"w-12 h-12 rounded-full"}),(0,s.jsx)("textarea",{value:n,onChange:e=>i(e.target.value),placeholder:a.placeholder,className:"w-full h-24 p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-green-500 resize-none","aria-label":"Create a new post"})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,s.jsxs)("button",{type:"button",onClick:m,disabled:o,className:"flex items-center gap-2 px-4 py-2 text-green-700 font-semibold rounded-lg disabled:opacity-50 hover:bg-green-50 dark:text-green-400 dark:hover:bg-gray-700 transition",children:[o?(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-dashed rounded-full animate-spin border-green-500"}):(0,s.jsx)(c.Z,{size:16}),(0,s.jsx)("span",{children:o?a.generating:a.generateWithAI})]}),(0,s.jsxs)("button",{type:"submit",disabled:!n.trim(),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white font-semibold rounded-lg disabled:bg-gray-400 disabled:cursor-not-allowed hover:bg-green-700 transition",children:[(0,s.jsx)(d.Z,{size:16}),(0,s.jsx)("span",{children:a.post})]})]})]})})}function v(e){let{lang:t,dictionary:a}=e,l=(0,i.useRouter)(),[c,d]=(0,r.useState)(f),u=(0,n.QS)({onSwipedLeft:()=>l.push("/".concat(t,"/discover")),onSwipedRight:()=>l.push("/".concat(t,"/profile")),preventScrollOnSwipe:!0,trackMouse:!0});return(0,s.jsx)("div",{...u,className:"min-h-screen",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto px-4 py-6",children:[(0,s.jsx)(b,{onCreatePost:e=>{let t={id:"post-".concat(Date.now()),author:x,content:e,likes:0,comments:0,shares:0,timestamp:new Date};d(e=>[t,...e])},dictionary:a.compose}),(0,s.jsx)(o,{lang:t,posts:c})]})})}}},function(e){e.O(0,[521,935,929,971,117,744],function(){return e(e.s=80393)}),_N_E=e.O()}]);